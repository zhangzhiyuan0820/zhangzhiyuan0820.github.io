<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

    <title>Android同样的标题</title>
    <meta name="description" content="">
    <link rel="icon" type="image/png" href="/assets/img/favicon.png" />
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="/index.html" id="avatar"></a>

        <ul id="tags__ul">
          <li id="js-label1" class="tags__li tags-btn active">全部</li>
          <li id="js-label2" class="tags__li tags-btn">技术</li>
          <li id="js-label3" class="tags__li tags-btn">生活</li>
          <li id="js-label4" class="tags__li tags-btn">读书</li>
          <li id="js-label5" class="tags__li tags-btn">收藏</li>
          <li id="js-label6" class="tags__li tags-btn">关于</li>
        </ul>

        <div id="tags__bottom">
          <a href="mailto:zhanghao19930820@163.com" id="icon-email" class="tags-btn fontello"></a>
          <a href="/rss.xml" id="icon-feed" class="tags-btn fontello"></a>
        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <form action="" id="search-form">
          <a href="/index.html" id="mobile-avatar"></a>

          <div style="padding: 20px 20px 20px; font-size: 18px;font-family: inherit; color: #1B813F;
">/* 你是你自己的导师 */</div>
        </form>

        <nav id="pl__container">
        
          <a class="technology pl__all" href="/technology/2015/04/26/Android-SameTitle.html"><span class="pl__circle"></span><span class="pl__title">Android同样的标题</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="like pl__all" href="/like/2015/04/14/like-list-move.html"><span class="pl__circle"></span><span class="pl__title">喜欢的项目</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="life pl__all" href="/life/2015/04/14/life.html"><span class="pl__circle"></span><span class="pl__title">2015.4月笔记</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="read pl__all" href="/read/2015/04/14/book-list-of-2015.html"><span class="pl__circle"></span><span class="pl__title">2015.四月 阅读书单</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="about pl__all" href="/about/2015/04/14/about-blogText.html"><span class="pl__circle"></span><span class="pl__title">博客标签测试模板</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="technology pl__all" href="/technology/2015/04/07/blog.html"><span class="pl__circle"></span><span class="pl__title">个人独立博客搭建</span><span class="pl__date">Apr 2015</span></a>
        
          <a class="about pl__all" href="/about/2015/03/08/about-me.html"><span class="pl__circle"></span><span class="pl__title">有关于我</span><span class="pl__date">Mar 2015</span></a>
        
          <a class="technology pl__all" href="/technology/2015/03/08/Android-Environment.html"><span class="pl__circle"></span><span class="pl__title">Android Environment</span><span class="pl__date">Mar 2015</span></a>
        
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <div id="pjax">
        <!--这个页面是喜欢的应用页面 like -->
<article id="post__content">
  <h1 id="post__title" data-identifier="20150426">Android同样的标题</h1>
  <h3 id="environment">Environment类</h3>

<p>由于项目需求 要求某几个Activity统一标题栏</p>

<p>新建 main_head.xml</p>

<?xml version="1.0" encoding="utf-8"?>
<linearlayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="horizontal" android:id="@+id/main_linearlayout_head" android:layout_width="fill_parent" android:layout_height="wrap_content" android:gravity="center_vertical">
          
        <button android:id="@+id/btn_left" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="上一步" android:textsize="18sp" />

        <textview android:id="@+id/tv_title" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:gravity="center" android:text="标题" android:textsize="18sp" />

        <button android:id="@+id/btn_right" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="下一步" android:textsize="18sp" />
            
</linearlayout>

<p>接下来建立base_main.xml
 用来载入上面建立的 main_head.xml 如项目有多个不同 title bar 只需更换 include</p>

<relativelayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="fill_parent" android:layout_height="fill_parent" android:background="#FFFFFF" android:orientation="vertical">

    <include android:id="@+id/bottom" layout="@layout/main_header" />

    <linearlayout android:id="@+id/content" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_alignparentbottom="true" android:layout_below="@+id/bottom" android:orientation="horizontal">



    </linearlayout>

</relativelayout>

<p>目前 视图需要建立的activity已经完成  我们建立一个BaseActivity 来管理</p>

<p>package com.minitalk.adapter;</p>

<p>import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.Window;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.LinearLayout.LayoutParams;
import android.widget.TextView;</p>

<p>import com.minitalk.avtivity.R;</p>

<p>import framework.utils.AppManager;</p>

<p>/**
 * 继承于Activity用于以后方便管理
 *
 * @author coder
 */
public abstract class BaseActivity extends Activity {
    // 固定的菜单栏button
    private Button BackButton;
    private TextView Title;
    private Button NextButton;</p>

<pre><code>//所填从内容的布局
private LinearLayout ly_content;

// 内容区域的布局
private View contentView;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.base_main);
    ly_content = (LinearLayout) findViewById(R.id.content);

    BackButton = (Button) findViewById(R.id.btn_left);
    Title = (TextView) findViewById(R.id.tv_title);
    NextButton = (Button) findViewById(R.id.btn_right);

}

/**
 * 得到View的 内容
 *
 * @return
 */
public View getLyContentView() {
    return contentView;
}
/**
 * 设置内容区域
 *
 * @param view View对象
 */
public void setContentLayout(View view) {
    if (null != ly_content) {
        ly_content.addView(view);
    }
}

/**
 * 设置内容区域
 *
 * @param resId 资源文件ID
 */
public View setContentLayout(int resId) {
    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    contentView = inflater.inflate(resId, null);

    LayoutParams layoutParams = new LayoutParams(LayoutParams.FILL_PARENT,
            LayoutParams.MATCH_PARENT);

    contentView.setLayoutParams(layoutParams);
    if (null != ly_content) {

        ly_content.addView(contentView);
        // 添加Activity到堆栈
        AppManager.getAppManager().addActivity(this);
        Log.v("AppManager",
                "AppManager 添加actiivty！！" + this.getLocalClassName());
    }
    return contentView;
}

/**
 * 用来管理点击事件
* */
protected abstract void leftbnt();
protected abstract void rightbnt();

public void leftbnt(View view) {
    leftbnt();
}

public void rightbnt(View view) {
    rightbnt();
}
/**
 * 设置右上角的button消失
 */
public void setnextgone() {
    NextButton.setVisibility(View.INVISIBLE);
}
/**
 * 设置标题
 */
public void settitle(String title) {
    Title.setText(title);
}
</code></pre>

<p>}</p>


</article> <!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontello" href="https://twitter.com/intent/tweet?url=http://zhenchen.me//technology/2015/04/26/Android-SameTitle.html&text=Android同样的标题" target="_blank"></a>
  <a id="icon-cc" class="fontello" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>
  <a id="icon-weibo" class="fontello" href="http://v.t.sina.com.cn/share/share.php?url=http://zhenchen.me//technology/2015/04/26/Android-SameTitle.html&title=Android同样的标题" target="_blank"></a>
</div> <!-- end #post__share -->

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'zhangxiaohao'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    

<p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a></p>

      </div> <!-- end #pjax -->

      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

    <button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button>

    <script src="/assets/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/js/jquery.pjax.js"></script>
    <script src="/assets/js/nprogress.js"></script>
    <script src="/assets/js/script.js"></script>
    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F8df9f41c154d89488e1b1cc18038ab8f' type='text/javascript'%3E%3C/script%3E"));
</script>

  </body>
</html>
